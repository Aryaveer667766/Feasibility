<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Editor Portal | Feasibility Media</title>

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;700&family=JetBrains+Mono&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
body{
  font-family:'Plus Jakarta Sans',sans-serif;
  background:#0f172a;
  color:#e2e8f0;
}
.font-mono{font-family:'JetBrains Mono',monospace}
.glass{
  background:rgba(30,41,59,.8);
  backdrop-filter:blur(12px);
  -webkit-backdrop-filter:blur(12px);
}
</style>
</head>

<body class="min-h-screen flex">

<!-- Sidebar -->
<aside class="w-64 bg-[#0B1120] border-r border-slate-800 p-6 flex flex-col justify-between">
  <div>
    <div class="text-white font-bold text-lg mb-10">Feasibility Internal</div>
    <nav class="space-y-2 text-slate-400">
      <div class="px-4 py-2 bg-purple-500/10 text-purple-400 rounded">Dashboard</div>
      <div class="px-4 py-2">Assets</div>
      <div class="px-4 py-2">History</div>
    </nav>
  </div>

  <div class="border-t border-slate-800 pt-4">
    <p id="editor-name" class="text-white font-semibold">—</p>
    <p id="editor-role" class="text-xs text-slate-500">—</p>
  </div>
</aside>

<!-- Main -->
<main class="flex-1 p-10 overflow-y-auto">

<h1 class="text-3xl font-bold text-white mb-1">Workspace</h1>
<p class="text-slate-400 mb-8" id="current-date"></p>

<!-- Status Card -->
<div class="glass p-8 rounded-xl mb-8">
  <p class="text-amber-400 font-mono text-sm mb-2">
    Status: <span id="status-text">—</span>
  </p>

  <h2 class="text-2xl font-bold mb-3">Pending Project Assignment</h2>
  <p class="text-slate-400 mb-6" id="status-message">—</p>

  <div class="w-full bg-slate-800 h-2 rounded overflow-hidden">
    <div id="progress-bar" class="bg-amber-500 h-2" style="width:0%"></div>
  </div>
</div>

<!-- Details -->
<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
  <div class="glass p-6 rounded-xl">
    <p class="text-xs text-slate-400">Client</p>
    <p class="text-white font-semibold" id="client">—</p>
  </div>
  <div class="glass p-6 rounded-xl">
    <p class="text-xs text-slate-400">Type</p>
    <p class="text-white font-semibold" id="type">—</p>
  </div>
  <div class="glass p-6 rounded-xl">
    <p class="text-xs text-slate-400">Deadline</p>
    <p class="text-white font-semibold" id="deadline">—</p>
  </div>
</div>

</main>

<!-- Firebase -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
import { getFirestore, doc, onSnapshot } from 
"https://www.gstatic.com/firebasejs/12.8.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyDnKHTghSxW7fi6bp_UGBhR6Nx4paAtO4U",
  authDomain: "my-babys-place.firebaseapp.com",
  projectId: "my-babys-place",
  storageBucket: "my-babys-place.firebasestorage.app",
  messagingSenderId: "276027805309",
  appId: "1:276027805309:web:7997b78ccf2c5004126b14",
  measurementId: "G-SX1LQK3CD8"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const ref = doc(db, "dashboard", "current");

onSnapshot(ref, (snap) => {
  if (!snap.exists()) return;
  const d = snap.data();

  document.getElementById("editor-name").textContent = d.editor;
  document.getElementById("editor-role").textContent = d.role;
  document.getElementById("status-text").textContent = d.status;
  document.getElementById("status-message").textContent = d.message;
  document.getElementById("progress-bar").style.width = d.progress + "%";
  document.getElementById("client").textContent = d.client;
  document.getElementById("type").textContent = d.type;
  document.getElementById("deadline").textContent = d.deadline;
});

// Date
document.getElementById("current-date").textContent =
  new Date().toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long",year:"numeric"});
</script>

</body>
</html>
